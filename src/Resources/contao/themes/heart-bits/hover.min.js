var Theme={isWebkit:(Browser.chrome||Browser.safari||navigator.userAgent.match(/(?:webkit|khtml)/i)),hoverRow:function(c,d){var a=$(c).getChildren();for(var b=0;b<a.length;b++){if(a[b].nodeName.toLowerCase()=="td"){a[b].setStyle("background-color",(d?"#fffce1":""))}}window.console&&console.warn('The Theme.hoverRow() function has been deprecated in Contao 4 and will be removed in Contao 5. Assign the CSS class "hover-row" instead.')},hoverDiv:function(a,b){if(!b){a.removeAttribute("data-visited")}$(a).setStyle("background-color",(b?"#fffce1":""));window.console&&console.warn('The Theme.hoverDiv() function has been deprecated in Contao 4 and will be removed in Contao 5. Assign the CSS class "hover-div" instead.')},stopClickPropagation:function(){$$(".picker_selector").each(function(a){a.getElements("a").each(function(b){b.addEvent("click",function(c){c.stopPropagation()})})});$$(".picker_selector,.click2edit").each(function(a){a.getElements('input[type="checkbox"]').each(function(b){b.addEvent("click",function(c){c.stopPropagation()})})})},setupCtrlClick:function(){$$(".click2edit").each(function(a){a.getElements("a").each(function(b){b.addEvent("click",function(c){c.stopPropagation()})});if(Browser.Features.Touch){a.addEvent("click",function(){if(!a.getAttribute("data-visited")){a.setAttribute("data-visited","1")}else{a.getElements("a").each(function(b){if(b.hasClass("edit")){document.location.href=b.href}});a.removeAttribute("data-visited")}})}else{a.addEvent("click",function(c){var b=Browser.Platform.mac?c.event.metaKey:c.event.ctrlKey;if(!b){return}if(c.event.shiftKey){a.getElements("a").each(function(d){if(d.hasClass("editheader")){document.location.href=d.href}})}else{a.getElements("a").each(function(d){if(d.hasClass("edit")){document.location.href=d.href}})}})}})},setupTextareaResizing:function(){$$(".tl_textarea").each(function(b){if(Browser.ie6||Browser.ie7||Browser.ie8){return}if(b.hasClass("noresize")||b.retrieve("autogrow")){return}var c=new Element("div",{html:"X",styles:{position:"absolute",top:0,left:"-999em","overflow-x":"hidden"}}).setStyles(b.getStyles("font-size","font-family","width","line-height")).inject(document.body);if(b.getStyle("-moz-box-sizing")=="border-box"||b.getStyle("-webkit-box-sizing")=="border-box"||b.getStyle("box-sizing")=="border-box"){c.setStyles({padding:b.getStyle("padding"),border:b.getStyle("border-left")})}var a=Math.max(c.clientHeight,30);b.addEvent("input",function(){c.set("html",this.get("value").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n|\r\n/g,"<br>X"));var d=Math.max(a,c.getSize().y);if(this.clientHeight!=d){this.tween("height",d)}}).set("tween",{duration:100}).setStyle("height",a+"px");b.fireEvent("input");b.store("autogrow",true)})},setupMenuToggle:function(){var a=$("burger");if(!a){return}a.addEvent("click",function(){document.body.toggleClass("show-navigation")}).addEvent("keydown",function(b){if(b.event.keyCode==27){document.body.removeClass("show-navigation")}})},setupProfileToggle:function(){var b=$("tmenu");if(!b){return}var a=b.getElements(".submenu");if(!a){return}Array.prototype.forEach.call(a,function(d){var c=d.getFirst("span");if(!c){return}c.addEvent("click",function(f){if(d.hasClass("active")){d.removeClass("active")}else{d.addClass("active")}f.stopPropagation()})});$(document.body).addEvent("click",function(){Array.prototype.forEach.call(a,function(c){if(c.hasClass("active")){c.removeClass("active")}})})},hideMenuOnScroll:function(){if(!("ontouchmove" in window)){return}var a=window.getSize().y,c=window.getScrollSize().y-a,b=0;if(a>=c){return}window.addEvent("touchmove",function(){var d=window.getScroll().y;if(Math.abs(b-d)<20){return}if(d>0&&d>b){$("header").addClass("down")}else{$("header").removeClass("down")}b=d}).addEvent("scroll",function(){if(window.getScroll().y<1){$("header").removeClass("down")}})},setupSplitButtonToggle:function(){var a=$("sbtog");if(!a){return}var b=a.getParent(".split-button").getElement("ul"),c,d;a.addEvent("click",function(f){c=false;b.toggleClass("invisible");a.toggleClass("active");f.stopPropagation()});$(document.body).addEvent("click",function(){c=false;b.addClass("invisible");a.removeClass("active")});$(document.body).addEvent("keydown",function(f){c=(f.event.keyCode==9)});[a].append(b.getElements("button")).each(function(e){e.addEvent("focus",function(){if(!c){return}b.removeClass("invisible");a.addClass("active");clearTimeout(d)});e.addEvent("blur",function(){if(!c){return}d=setTimeout(function(){b.addClass("invisible");a.removeClass("active")},100)})});a.set("tabindex","-1")}};window.addEvent("domready",function(){Theme.stopClickPropagation();Theme.setupCtrlClick();Theme.setupTextareaResizing();Theme.setupMenuToggle();Theme.setupProfileToggle();Theme.hideMenuOnScroll();Theme.setupSplitButtonToggle()});window.addEvent("ajax_change",function(){Theme.stopClickPropagation();Theme.setupCtrlClick();Theme.setupTextareaResizing()});